<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>
<body>
  <style>
    body {
      display: grid;
      grid-template-areas:
        'a b'
        'c b';
      gap: 2.5rem;
      grid-template-columns: 550px 1fr;
      grid-template-rows: 550px 1fr;
    }

    .grid {
      margin-top: 1rem;
      display: grid;
      grid-template-columns: 40px 40px 40px 1fr;
      grid-gap: 2rem;
      align-items: start;
      justify-content: center;
      grid-area: b;
    }

    .hcenter {
      justify-self: center;
    }

    .vcenter {
      align-self: center;
    }

    .tile {
      width: 50px;
      height: 50px;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      outline: 1px solid;
    }

    .span2 {
      grid-column: 2 / -1;
    }

    .heading {
      text-decoration: underline;
      margin-top: 2rem;
    }

    .nearby, .adjacent {
      position: relative;
    }

    .adjacent:before,
    .nearby:before {
      content: '';
      position: absolute;
      width: 100%;
      height: calc(40px / 3);
      outline: 1px solid;
      background: linear-gradient(
        to right,
        transparent 33%,
        black 33%,
        black 66%,
        transparent 66%,
        transparent 100%
      );
    }

    .adjacent:after,
    .nearby:after {
      content: '';
      position: absolute;
      width: calc(40px / 3);
      height: 100%;
      outline: 1px solid;
    }

    ul {
      margin: 0.5rem 1rem;
      padding: 0;
    }

    i {
      font-style: normal;
      color: dodgerblue;
      font-weight: bold;
    }

    html {
      font-size: 18px;
    }

    #available {
      display: flex;
      gap: 1rem;
      min-height: 5rem;
      margin-top: 1rem;
    }

    button {
      border: 1px solid;
      border-radius: 4px;
      font-size: 1rem;
    }

    button:disabled:hover {
      background: rgba(233, 233, 237, 0.5);
    }

    button.available {
      max-width: 9.5rem
      border: 1px solid;
      background: none;
      padding: 1rem;
      border-radius: 5px;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    button.available:hover {
      background: lightgray;
      cursor: pointer;
    }

    #reroll {
      margin-top: 1rem;
      padding: 0.25rem 0.5rem;
      margin-bottom: 2rem;
    }

    #rules {
      margin-top: 2rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    canvas {
      background: #101720;
      outline: 1px solid;
      cursor: pointer;
      background: url(./assets/haze2.png);
      animation-name: MOVE-BG;
      animation-duration: 100s;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes MOVE-BG {
      from {
        background-position: 0 0;
      }
      to {
        background-position: 100% 0;
      }
    }
  </style>
  <div>
    <canvas id="canvas" width="500" height="500"></canvas>
  </div>
  <div class="grid">
    <div class="tile adjacent" style="outline: 0"></div>
    <div class="vcenter" style="margin-left: -1rem;">Adjacent</div>
    <div class="tile nearby"></div>
    <div class="vcenter" style="margin-left: -1rem;">Nearby</div>

    <div class="heading">Tile</div>
    <!-- <div class="heading">Value</div> -->
    <div class="heading span2">Description and Scoring</div>

    <div class="tile" style="background: url(./assets/haze2.png);"></div>
    <!-- <div></div> -->
    <div class="span2"><b>Darkness</b>. Cannot build buildings on these squares.</div>

    <div class="tile" style="background: #c5dec1 url(./assets/tiles.png) -100px 0"></div>
    <!-- <div></div> -->
    <div class="span2"><b>Forest</b>. Cannot build buildings on these squares.</div>

    <div class="tile" style="background: #dfdfdf url(./assets/tiles.png) -250px 0"></div>
    <!-- <div></div> -->
    <div class="span2"><b>Mountain</b>. Cannot build buildings on these squares.</div>

    <div class="tile" style="background: #fa8072 url(./assets/tiles.png) -150px 0"></div>
    <!-- <div class="hcenter">1</div> -->
    <div class="span2">
      <b>Houses</b> want to be adjacent lots of other <b>Houses</b>.
      <ul>
        <li>+2 points for each <b>House</b> in a group of 2 or more adjacent <b>Houses</b></li>
      </ul>
    </div>

    <div class="tile" style="background: #b3c6e0 url(./assets/tiles.png) -400px 0"></div>
    <!-- <div class="hcenter">2</div> -->
    <div class="span2">
      <b>Lakes</b> want to be nearby lots of other tiles.
      <ul>
        <li>+1 point for each nearby tile</li>
      </ul>
    </div>

    <div class="tile" style="background: #f7e7aa url(./assets/tiles.png) -50px 0"></div>
    <!-- <div class="hcenter">3</div> -->
    <div class="span2">
      <b>Farms</b> want to be in large areas.
      <ul>
        <li>+1 point for each square in a <b>Farm</b> area.</li>
      </ul>
    </div>

    <div class="tile" style="background: #c9a999 url(./assets/tiles.png) -300px 0"></div>
    <!-- <div class="hcenter">4</div> -->
    <div class="span2">
      <b>Sawmills</b> want to be nearby <b>Forests</b>.
      <ul>
        <li>+1 point for each nearby <b>Forest</b></li>
      </ul>
    </div>

    <div class="tile" style="background: #cfcfc4 url(./assets/tiles.png) -350px 0"></div>
    <!-- <div class="hcenter">5</div> -->
    <div class="span2">
      <b>Stone Masons</b> want to be nearby <b>Mountains</b>.
      <ul>
        <li>+1 point for each nearby <b>Mountain</b></li>
      </ul>
    </div>

    <div class="tile" style="background: #CCBEF0 url(./assets/tiles.png)"></div>
    <!-- <div class="hcenter">6</div> -->
    <div class="span2">
      <b>Churches</b> reduce the total value of the row and column they belong to by 3. This effect is cumulative, so two <b>Churches</b> will reduce the total value by 6. <b>Churches</b> want to be far away from the <b>Darkness</b> and other <b>Churches</b>.
      <ul>
        <li>+1 point for each square between the <b>Church</b> and the nearest <b>Darkness</b> or other <b>Church</b></li>
      </ul>
    </div>

    <!-- <div class="tile">B</div>
    <div class="hcenter">7</div>
    <div class="span2">
      Each <b>Builder Hut</b> allows building an additional building each round. You cannot build more than 13 value worth of buildings each round.
    </div> -->

    <div class="tile" style="background: #ffcd91 url(./assets/tiles.png) -200px 0"></div>
    <!-- <div class="hcenter">7</div> -->
    <div class="span2">
      <b>Light Towers</b> prevent the <b>Darkness</b> from spreading into nearby squares. Does not want to be nearby or in the same row or column as another <b>Light Tower</b>
      <ul>
        <li>+2 point if not nearby or in the same row or column as another <b>Light Tower</b></li>
      </ul>
    </div>

    <!-- <div class="tile">Wa</div>
    <div class="hcenter">9</div>
    <div class="span2">
      Each building in an area fully enclosed by <b>Walls</b> scores 2x their point value. <b>Walls</b> can be built in lengths of 1, 2, or 3.
    </div> -->

  </div>
  <div>
    <div><b>Round:</b> <span id="roundS">1</span></div>
    <div><b>Tiles:</b> <!--(total value: <span id="totalValue"></span>)--></div>
    <div id="available"></div>
    <!-- <button id="reroll">Reroll</button> -->
    <button id="rotate">Rotate</button>
    <div id="rules">
    <div>
      <b>Objective</b>
      <ul>
        <li>Earn the most points at the end of 16 rounds</li>
      </ul>
    </div>

    <div>
      <b>How to Play</b>
      <ul>
        <li>Each round you choose a Tile to place.</li>
        <li>Each Tile has a building, a value, and an area.</li>
        <li>You cannot place a Tile if any part of its area overlaps another building or area.</li>
        <!-- <li>If the total value of all dealt Buildings is equal to or greater than 13, the <b>Darkness</b> will grow and you cannot reroll that round</li> -->
        <li>When placing a Tile, if the total value of all buildings in the same row or column as the placed building is equal to or great than 13, the <b>Darkness</b> will grow</li>
        <li><u>Be aware</u> that <b>Darkness</b> can overtake other tiles and even your buildings (removing them from the board) unless you have a <b>Light Tower</b> nearby.</li>
<!--         <li>At the start of round 13 the <b>Darkness</b> will grow twice.</li>
        <li>Starting on round 13 and above, the <b>Darkness</b> intensifies and will grow twice instead of once when the value of all dealt Buildings is 13 or more.</li> -->
        <li>For scoring purposes, nearby and adjacency is calculated using the building itself and not the area of the Tile.
      </ul>
    </div>
  </div>

  <script type="module" src="./src/index.js"></script>
</body>
</html>
